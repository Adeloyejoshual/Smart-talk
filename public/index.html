<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SmartTalk Chat</title>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    #messages { margin-top: 20px; }
    .message { margin-bottom: 10px; }
  </style>
</head>
<body>
  <h2>SmartTalk Chat</h2>
  <input id="sender" placeholder="Your name" />
  <input id="message" placeholder="Type a message" />
  <button onclick="sendMessage()">Send</button>

  <div id="messages"></div>

  <script>
    const socket = io();

    function sendMessage() {
      const sender = document.getElementById('sender').value;
      const content = document.getElementById('message').value;
      if (!sender || !content) return alert('Fill all fields');
      socket.emit('chatMessage', { sender, content });
      document.getElementById('message').value = '';
    }

    socket.on('chatMessage', (data) => {
      const div = document.createElement('div');
      div.className = 'message';
      div.innerText = `${data.sender}: ${data.content} (${new Date(data.timestamp).toLocaleTimeString()})`;
      document.getElementById('messages').appendChild(div);
    });
  </script>
</body>
</html>
